<!DOCTYPE html>
<html>
<head>
    <title>Automated Essay Grading</title>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs"></script>
    <script>
        let model;

        // Function to load the TensorFlow.js model
        async function loadModel() {
            // Load the model.json and model.weights files from the output_directory
            model = await tf.loadGraphModel('path/to/model.json');
            console.log('Model loaded successfully');
        }

        // Call the loadModel function when the page is loaded
        window.onload = loadModel;

        // Tokenization function (you may need to adapt this based on your tokenizer)
        function tokenizeText(text) {
            // Basic tokenization by splitting on spaces
            return text.split(' ');
        }

        // Function to grade the essay
        async function gradeEssay() {
            try {
                // Get the essay text from the textarea
                const essayText = document.querySelector('textarea[name="essay"]').value;

                // Tokenize the essay text
                const tokenizedEssay = tokenizeText(essayText);

                // Convert the tokenized essay into a string with spaces
                const tokenizedEssayString = tokenizedEssay.join(' ');

                // Convert the tokenized and padded essay text to a TensorFlow.js tensor
                const inputTensor = tf.tensor([tokenizedEssayString]);

                // Make a prediction
                const prediction = await model.predict(inputTensor).data();

                // Get the predicted grade - Adjust this logic based on your model's output
                const predictedGrade = prediction[0];

                // Display the predicted grade
                const gradeElement = document.getElementById('grade');
                gradeElement.innerHTML = `Predicted Grade: ${predictedGrade}`;
            } catch (error) {
                console.error('Error grading essay:', error);
            }
        }
    </script>
</head>
<body>
    <h1>Automated Essay Grading</h1>
    <form onsubmit="gradeEssay(); return false;">
        <textarea name="essay" rows="10" cols="50"></textarea>
        <br>
        <input type="submit" value="Grade">
    </form>
    <!-- Add a div element to display the predicted grade -->
    <div id="grade"></div>
</body>
</html>
